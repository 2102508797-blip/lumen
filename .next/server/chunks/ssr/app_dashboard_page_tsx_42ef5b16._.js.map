{"version":3,"sources":["../../../../components/dashboard/calendar-view.tsx","../../../../components/dashboard/time-blocking-modal.tsx","../../../../app/dashboard/page.tsx","../../../../node_modules/lucide-react/src/icons/chevron-left.ts","../../../../node_modules/lucide-react/src/icons/chevron-right.ts"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\n\ntype TimeBlock = {\n  date: string\n  startTime: string\n  endTime: string\n}\n\ntype CalendarViewProps = {\n  currentDate: Date\n  selectedDate: Date | null\n  onSelectDate: (date: Date) => void\n  timeBlocks: TimeBlock[]\n}\n\nexport default function CalendarView({\n  currentDate,\n  selectedDate,\n  onSelectDate,\n  timeBlocks,\n}: CalendarViewProps) {\n  const year = currentDate.getFullYear()\n  const month = currentDate.getMonth()\n\n  const firstDayOfMonth = new Date(year, month, 1)\n  const firstWeekday = firstDayOfMonth.getDay() // 0=Sun\n  const daysInMonth = new Date(year, month + 1, 0).getDate()\n\n  const cells: (Date | null)[] = []\n\n  // leading empty cells (previous month)\n  for (let i = 0; i < firstWeekday; i++) {\n    cells.push(null)\n  }\n\n  // current month days\n  for (let d = 1; d <= daysInMonth; d++) {\n    cells.push(new Date(year, month, d))\n  }\n\n  const today = new Date()\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"grid grid-cols-7 text-xs font-medium text-muted-foreground mb-1\">\n        {[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"].map((d) => (\n          <div key={d} className=\"flex items-center justify-center\">\n            {d}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-7 gap-2 text-sm\">\n        {cells.map((day, idx) => {\n          if (!day) {\n            return <div key={idx} className=\"h-10\" />\n          }\n\n          const isSelected = selectedDate ? isSameDay(day, selectedDate) : false\n          const isToday = isSameDay(day, today)\n          const load = getDayLoad(day, timeBlocks)\n\n          let base =\n            \"h-10 flex items-center justify-center rounded-lg border text-sm transition-colors cursor-pointer\"\n\n          let loadClasses = \"bg-muted border-border text-foreground\"\n          if (load === \"busy\") {\n            loadClasses = \"bg-destructive/20 border-destructive/60 text-destructive-foreground\"\n          } else if (load === \"easy\") {\n            loadClasses = \"bg-emerald-50 border-emerald-300 text-emerald-700\"\n          }\n\n          if (isToday) {\n            loadClasses += \" ring-1 ring-secondary\"\n          }\n          if (isSelected) {\n            loadClasses += \" ring-2 ring-secondary ring-offset-2 ring-offset-card\"\n          }\n\n          return (\n            <button\n              key={idx}\n              onClick={() => onSelectDate(day)}\n              className={`${base} ${loadClasses}`}\n            >\n              {day.getDate()}\n            </button>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\n/* ---- helpers ---- */\n\nfunction isSameDay(a: Date, b: Date) {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  )\n}\n\nfunction getDayLoad(date: Date, timeBlocks: TimeBlock[]) {\n  const key = date.toISOString().slice(0, 10)\n\n  let totalMinutes = 0\n\n  const parseToMinutes = (t: string | undefined) => {\n    if (!t) return 0\n    const [hStr, mStr] = t.split(\":\")\n    const h = Number(hStr)\n    const m = Number(mStr)\n    if (!Number.isFinite(h) || !Number.isFinite(m)) return 0\n    return h * 60 + m\n  }\n\n  timeBlocks.forEach((block) => {\n    const dKey = new Date(block.date).toISOString().slice(0, 10)\n    if (dKey !== key) return\n\n    let start = parseToMinutes(block.startTime)\n    let end = parseToMinutes(block.endTime)\n\n    if (end <= start) end = start + 60 // at least 1h\n\n    totalMinutes += end - start\n  })\n\n  if (totalMinutes >= 6 * 60) return \"busy\" // >= 6 hours\n  if (totalMinutes > 0) return \"easy\"\n  return \"none\"\n}\n","\"use client\"\n\nimport React, { useState } from \"react\"\n\ntype TimeBlock = {\n  id?: string\n  title: string\n  date: string\n  startTime: string\n  endTime: string\n  description?: string\n}\n\ntype TimeBlockingModalProps = {\n  onClose: () => void\n  onAdd: (block: Omit<TimeBlock, \"id\">) => void\n  onUpdate?: (id: string, updates: Omit<TimeBlock, \"id\">) => void\n  initialBlock?: TimeBlock\n  presetDate?: string\n  presetStartTime?: string\n  presetEndTime?: string\n}\n\nexport default function TimeBlockingModal({\n  onClose,\n  onAdd,\n  onUpdate,\n  initialBlock,\n  presetDate,\n  presetStartTime,\n  presetEndTime,\n}: TimeBlockingModalProps) {\n  // date as yyyy-mm-dd for the <input type=\"date\">\n  const initialDateISO =\n    initialBlock?.date ?? presetDate ?? new Date().toISOString()\n  const initialDateInput = initialDateISO.slice(0, 10)\n\n  const [title, setTitle] = useState(initialBlock?.title ?? \"\")\n  const [dateInput, setDateInput] = useState(initialDateInput)\n  const [startTime, setStartTime] = useState(\n    initialBlock?.startTime ?? presetStartTime ?? \"09:00\",\n  )\n  const [endTime, setEndTime] = useState(\n    initialBlock?.endTime ?? presetEndTime ?? \"10:00\",\n  )\n  const [description, setDescription] = useState(initialBlock?.description ?? \"\")\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // convert back to ISO string for storage\n    const isoDate = new Date(dateInput + \"T00:00:00\").toISOString()\n\n    const payload: Omit<TimeBlock, \"id\"> = {\n      title,\n      date: isoDate,\n      startTime,\n      endTime,\n      description,\n    }\n\n    if (initialBlock && initialBlock.id && onUpdate) {\n      onUpdate(initialBlock.id, payload)\n    } else {\n      onAdd(payload)\n    }\n\n    onClose()\n  }\n\n  const isEditing = Boolean(initialBlock)\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4\">\n      <div\n        className=\"w-full max-w-md bg-card rounded-2xl shadow-xl border border-border p-6 animate-in fade-in-0 zoom-in-95\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-foreground\">\n              {isEditing ? \"Edit Time Block\" : \"Add Time Block\"}\n            </h2>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Choose a date, select a time range, and describe what you&apos;re\n              working on.\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-muted-foreground hover:text-foreground text-sm px-2 py-1 rounded-md hover:bg-muted\"\n          >\n            ✕\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Title */}\n          <div>\n            <label className=\"block text-xs font-medium text-foreground mb-1.5\">\n              Title\n            </label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Deep work, class, meeting...\"\n              className=\"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n              required\n            />\n          </div>\n\n          {/* Date */}\n          <div>\n            <label className=\"block text-xs font-medium text-foreground mb-1.5\">\n              Date\n            </label>\n            <input\n              type=\"date\"\n              value={dateInput}\n              onChange={(e) => setDateInput(e.target.value)}\n              className=\"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n              required\n            />\n          </div>\n\n          {/* Time range */}\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div>\n              <label className=\"block text-xs font-medium text-foreground mb-1.5\">\n                Start time\n              </label>\n              <input\n                type=\"time\"\n                value={startTime}\n                onChange={(e) => setStartTime(e.target.value)}\n                className=\"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs font-medium text-foreground mb-1.5\">\n                End time\n              </label>\n              <input\n                type=\"time\"\n                value={endTime}\n                onChange={(e) => setEndTime(e.target.value)}\n                className=\"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"\n                required\n              />\n            </div>\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-xs font-medium text-foreground mb-1.5\">\n              Notes (optional)\n            </label>\n            <textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              rows={3}\n              placeholder=\"What are you going to work on during this block?\"\n              className=\"w-full rounded-lg border border-border bg-input px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none\"\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-between pt-2\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"text-xs text-muted-foreground hover:text-foreground px-3 py-2 rounded-lg hover:bg-muted\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"inline-flex items-center justify-center rounded-lg bg-primary text-primary-foreground text-sm font-medium px-4 py-2 hover:bg-primary/90 transition-colors\"\n            >\n              {isEditing ? \"Update Block\" : \"Add Block\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { ChevronLeft, ChevronRight, Plus } from \"lucide-react\"\nimport CalendarView from \"@/components/dashboard/calendar-view\"\nimport TimeBlockingModal from \"@/components/dashboard/time-blocking-modal\"\n\ntype TimeBlock = {\n  id: string\n  title: string\n  date: string\n  startTime: string\n  endTime: string\n  description?: string\n}\n\ntype DraftRange = {\n  date: string\n  startTime: string\n  endTime: string\n}\n\nexport default function DashboardPage() {\n  const [currentDate, setCurrentDate] = useState(new Date())\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [timeBlocks, setTimeBlocks] = useState<TimeBlock[]>([])\n  const [editingBlock, setEditingBlock] = useState<TimeBlock | null>(null)\n  const [draftRange, setDraftRange] = useState<DraftRange | null>(null)\n\n  // Load time blocks from localStorage\n  useEffect(() => {\n    const stored = localStorage.getItem(\"timeBlocks\")\n    if (stored) {\n      setTimeBlocks(JSON.parse(stored))\n    }\n  }, [])\n\n  // Save time blocks to localStorage\n  useEffect(() => {\n    localStorage.setItem(\"timeBlocks\", JSON.stringify(timeBlocks))\n  }, [timeBlocks])\n\n  const handleAddBlock = (block: Omit<TimeBlock, \"id\">) => {\n    setTimeBlocks((prev) => [...prev, { ...block, id: Date.now().toString() }])\n    setIsModalOpen(false)\n    setDraftRange(null)\n  }\n\n  const handleDeleteBlock = (id: string) => {\n    setTimeBlocks((prev) => prev.filter((block) => block.id !== id))\n  }\n\n  const handleUpdateBlock = (id: string, updates: Omit<TimeBlock, \"id\">) => {\n    setTimeBlocks((prev) => prev.map((block) => (block.id === id ? { ...block, ...updates, id } : block)))\n    setIsModalOpen(false)\n    setEditingBlock(null)\n    setDraftRange(null)\n  }\n\n  const previousMonth = () => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1))\n  }\n\n  const nextMonth = () => {\n    setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1))\n  }\n\n  const activeDate = selectedDate || new Date()\n\n  const blocksForSelectedDate = timeBlocks.filter((block) =>\n    isSameDay(new Date(block.date), activeDate),\n  )\n\n  const startOfWeek = getStartOfWeek(activeDate)\n  const weekDays = Array.from({ length: 7 }, (_, i) => addDays(startOfWeek, i))\n\n  const blocksByDay: Record<string, TimeBlock[]> = {}\n  timeBlocks.forEach((block) => {\n    const key = dayKey(new Date(block.date))\n    if (!blocksByDay[key]) blocksByDay[key] = []\n    blocksByDay[key].push(block)\n  })\n\n  const monthlyBlocks = timeBlocks.filter((block) =>\n    isSameMonth(new Date(block.date), currentDate),\n  )\n\n  const handleOpenModal = () => {\n    setEditingBlock(null)\n    setDraftRange(null)\n    setIsModalOpen(true)\n  }\n\n  // called when drag on timeline finishes\n  const handleTimelineRangeSelect = (startHour: number, endHour: number) => {\n    const pad = (n: number) => n.toString().padStart(2, \"0\")\n    const dateOnly = new Date(\n      activeDate.getFullYear(),\n      activeDate.getMonth(),\n      activeDate.getDate(),\n    )\n\n    setDraftRange({\n      date: dateOnly.toISOString(),\n      startTime: `${pad(startHour)}:00`,\n      endTime: `${pad(endHour)}:00`,\n    })\n    setEditingBlock(null)\n    setIsModalOpen(true)\n  }\n\n  const openEditBlock = (block: TimeBlock) => {\n    setEditingBlock(block)\n    setDraftRange(null)\n    setIsModalOpen(true)\n  }\n\n  return (\n    <div className=\"p-4 lg:p-8 transition-all duration-300\">\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 mb-8\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-3xl font-bold text-foreground tracking-tight\">Your Calendar</h1>\n          <p className=\"text-muted-foreground\">\n            Plan your week with smart time blocking and 24-hour control.\n          </p>\n        </div>\n        <button\n          onClick={handleOpenModal}\n          className=\"flex items-center gap-2 bg-secondary hover:bg-secondary/90 text-secondary-foreground px-6 py-2.5 rounded-lg font-medium transition-all shadow-sm hover:shadow-md hover:-translate-y-0.5\"\n        >\n          <Plus size={20} />\n          Add Time Block\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Mini Calendar */}\n        <div className=\"bg-card rounded-xl shadow-md p-6 border border-border lg:col-span-1 h-fit transition-all hover:shadow-lg hover:-translate-y-0.5\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-bold text-foreground\">\n              {currentDate.toLocaleString(\"default\", { month: \"long\", year: \"numeric\" })}\n            </h2>\n            <div className=\"flex gap-2\">\n              <button onClick={previousMonth} className=\"p-1.5 hover:bg-muted rounded-lg transition\">\n                <ChevronLeft size={18} />\n              </button>\n              <button onClick={nextMonth} className=\"p-1.5 hover:bg-muted rounded-lg transition\">\n                <ChevronRight size={18} />\n              </button>\n            </div>\n          </div>\n\n          <p className=\"text-xs text-muted-foreground mb-3\">\n            Busy days appear in red, lighter days in green.\n          </p>\n\n          <CalendarView\n            currentDate={currentDate}\n            selectedDate={selectedDate}\n            onSelectDate={setSelectedDate}\n            timeBlocks={timeBlocks}\n          />\n        </div>\n\n        {/* Right side */}\n        <div className=\"lg:col-span-2 space-y-5\">\n          <div className=\"bg-card rounded-xl shadow-md p-6 border border-border transition-all hover:shadow-lg hover:-translate-y-0.5\">\n            <div className=\"flex items-start justify-between gap-4 mb-4\">\n              <div>\n                <h2 className=\"text-xl font-bold text-foreground\">This Week&apos;s Schedule</h2>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  Select a day on the calendar and drag on the timeline to block your time.\n                </p>\n              </div>\n              <div className=\"text-right text-xs text-muted-foreground\">\n                <p>{formatDateLabel(activeDate)}</p>\n                <p className=\"mt-1\">\n                  {blocksForSelectedDate.length > 0\n                    ? `${blocksForSelectedDate.length} block${\n                        blocksForSelectedDate.length > 1 ? \"s\" : \"\"\n                      } for this day`\n                    : \"No blocks yet for this day\"}\n                </p>\n              </div>\n            </div>\n\n            {/* 1. Daily hourly timeline */}\n            <div className=\"mb-6\">\n              <p className=\"text-xs font-semibold text-muted-foreground mb-2\">\n                Hourly plan for {formatDateLabel(activeDate)}\n              </p>\n              <DayTimeline\n                dayBlocks={blocksForSelectedDate}\n                onRangeSelect={handleTimelineRangeSelect}\n              />\n            </div>\n\n            {/* 2. Tasks for this day (click to edit) */}\n            <div className=\"mb-6\">\n              <p className=\"text-xs font-semibold text-muted-foreground mb-2\">\n                Tasks for this day\n              </p>\n              {blocksForSelectedDate.length === 0 ? (\n                <div className=\"text-sm text-muted-foreground border border-dashed border-border rounded-lg p-4 text-center\">\n                  No tasks for this day yet. Drag on the timeline or use &quot;Add Time Block&quot;.\n                </div>\n              ) : (\n                <div className=\"space-y-2 text-sm\">\n                  {blocksForSelectedDate\n                    .sort((a, b) => a.startTime.localeCompare(b.startTime))\n                    .map((block) => (\n                      <div\n                        key={block.id}\n                        onClick={() => openEditBlock(block)}\n                        className=\"flex items-center justify-between rounded-lg border border-border bg-muted/40 px-3 py-2 hover:bg-muted/70 transition-colors cursor-pointer\"\n                      >\n                        <div>\n                          <p className=\"font-medium text-foreground\">{block.title}</p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {block.startTime} – {block.endTime}\n                          </p>\n                        </div>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            handleDeleteBlock(block.id)\n                          }}\n                          className=\"text-[11px] text-destructive hover:text-destructive/80 font-semibold\"\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    ))}\n                </div>\n              )}\n            </div>\n\n            {/* 3. This week at a glance */}\n            <div className=\"mb-6\">\n              <p className=\"text-xs font-semibold text-muted-foreground mb-2\">\n                This week at a glance\n              </p>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2 text-xs\">\n                {weekDays.map((day) => {\n                  const key = dayKey(day)\n                  const blocks = blocksByDay[key] || []\n                  const isToday = isSameDay(day, new Date())\n\n                  return (\n                    <div\n                      key={key}\n                      className={`rounded-lg border px-2 py-2 bg-muted/40 hover:bg-muted/80 transition-colors cursor-pointer ${\n                        isToday ? \"border-secondary\" : \"border-border\"\n                      }`}\n                      onClick={() => setSelectedDate(day)}\n                    >\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"font-medium text-[11px] text-foreground\">\n                          {day.toLocaleDateString(undefined, {\n                            weekday: \"short\",\n                          })}\n                        </span>\n                        <span className=\"text-[11px] text-muted-foreground\">\n                          {day.getDate()}\n                        </span>\n                      </div>\n                      {blocks.length === 0 ? (\n                        <p className=\"text-[10px] text-muted-foreground italic\">No blocks</p>\n                      ) : (\n                        <ul className=\"space-y-0.5\">\n                          {blocks\n                            .sort((a, b) => a.startTime.localeCompare(b.startTime))\n                            .slice(0, 3)\n                            .map((block) => (\n                              <li key={block.id} className=\"text-[10px] text-foreground/80 truncate\">\n                                {block.startTime} – {block.endTime} · {block.title}\n                              </li>\n                            ))}\n                          {blocks.length > 3 && (\n                            <li className=\"text-[10px] text-muted-foreground\">\n                              +{blocks.length - 3} more\n                            </li>\n                          )}\n                        </ul>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* 4. Month summary */}\n            <div className=\"border-t border-border pt-3 mt-2 text-xs text-muted-foreground flex items-center justify-between\">\n              <span>\n                Month overview:{\" \"}\n                <span className=\"font-medium text-foreground\">\n                  {currentDate.toLocaleString(\"default\", { month: \"long\", year: \"numeric\" })}\n                </span>\n              </span>\n              <span>\n                {monthlyBlocks.length} block{monthlyBlocks.length === 1 ? \"\" : \"s\"} scheduled this\n                month\n              </span>\n            </div>\n          </div>\n\n          {/* Tips */}\n          <div className=\"bg-gradient-to-br from-accent/20 to-secondary/10 rounded-xl shadow-md p-6 border border-accent/30 transition-all hover:shadow-lg hover:-translate-y-0.5\">\n            <h3 className=\"font-bold text-foreground mb-3\">Time Blocking Tips</h3>\n            <ul className=\"space-y-2 text-sm text-foreground/80\">\n              <li>✓ Block 90 minutes for deep work sessions</li>\n              <li>✓ Include buffer time between meetings or classes</li>\n              <li>✓ Schedule 5–10 minute breaks every 2 hours</li>\n              <li>✓ Batch similar tasks together to reduce context switching</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {/* Modal */}\n      {isModalOpen && (\n        <TimeBlockingModal\n          onClose={() => {\n            setIsModalOpen(false)\n            setEditingBlock(null)\n            setDraftRange(null)\n          }}\n          onAdd={handleAddBlock}\n          onUpdate={handleUpdateBlock}\n          initialBlock={editingBlock ?? undefined}\n          presetDate={draftRange?.date}\n          presetStartTime={draftRange?.startTime}\n          presetEndTime={draftRange?.endTime}\n        />\n      )}\n    </div>\n  )\n}\n\n/* ---------- helpers ---------- */\n\nfunction isSameDay(a: Date, b: Date) {\n  return (\n    a.getFullYear() === b.getFullYear() &&\n    a.getMonth() === b.getMonth() &&\n    a.getDate() === b.getDate()\n  )\n}\n\nfunction isSameMonth(a: Date, b: Date) {\n  return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth()\n}\n\nfunction getStartOfWeek(date: Date) {\n  const d = new Date(date)\n  const day = d.getDay() // 0 = Sun\n  const diff = d.getDate() - day\n  return new Date(d.getFullYear(), d.getMonth(), diff)\n}\n\nfunction addDays(date: Date, days: number) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate() + days)\n}\n\nfunction dayKey(date: Date) {\n  return date.toISOString().slice(0, 10)\n}\n\nfunction formatDateLabel(date: Date) {\n  return date.toLocaleDateString(undefined, {\n    weekday: \"short\",\n    day: \"numeric\",\n    month: \"short\",\n    year: \"numeric\",\n  })\n}\n\n/* ---------- 24h timeline (busy hours = red) ---------- */\n\ntype TimelineBlock = {\n  id: string\n  title: string\n  date: string\n  startTime: string\n  endTime: string\n  description?: string\n}\n\nfunction DayTimeline({\n  dayBlocks,\n  onRangeSelect,\n}: {\n  dayBlocks: TimelineBlock[]\n  onRangeSelect: (startHour: number, endHour: number) => void\n}) {\n  const HOURS = Array.from({ length: 24 }, (_, i) => i)\n  const [isDragging, setIsDragging] = useState(false)\n  const [dragStart, setDragStart] = useState<number | null>(null)\n  const [dragEnd, setDragEnd] = useState<number | null>(null)\n\n  const parseHour = (time: string | undefined): number | null => {\n    if (!time) return null\n    const [hStr] = time.split(\":\")\n    const h = Number(hStr)\n    if (!Number.isFinite(h) || h < 0 || h > 23) return null\n    return h\n  }\n\n  // mark busy hours; also handle weird \"end < start\" (like 09:00 – 00:00)\n  const busyHours = new Set<number>()\n  dayBlocks.forEach((block) => {\n    const startH = parseHour(block.startTime)\n    const endHRaw = parseHour(block.endTime)\n    if (startH === null) return\n\n    let start = startH\n    let end = endHRaw ?? start + 1\n    if (end <= start) end = start + 1 // at least 1 hour\n\n    start = Math.max(0, Math.min(23, start))\n    end = Math.max(start + 1, Math.min(24, end))\n\n    for (let h = start; h < end; h++) {\n      busyHours.add(h)\n    }\n  })\n\n  const startDrag = (hour: number) => {\n    setIsDragging(true)\n    setDragStart(hour)\n    setDragEnd(hour)\n  }\n\n  const updateDrag = (hour: number) => {\n    if (!isDragging) return\n    setDragEnd(hour)\n  }\n\n  const finishDrag = () => {\n    if (isDragging && dragStart !== null && dragEnd !== null) {\n      const start = Math.min(dragStart, dragEnd)\n      const end = Math.max(dragStart, dragEnd) + 1\n      if (end > start) onRangeSelect(start, end)\n    }\n    setIsDragging(false)\n    setDragStart(null)\n    setDragEnd(null)\n  }\n\n  const isInSelection = (hour: number) => {\n    if (dragStart === null || dragEnd === null) return false\n    const start = Math.min(dragStart, dragEnd)\n    const end = Math.max(dragStart, dragEnd)\n    return hour >= start && hour <= end\n  }\n\n  // mouseup anywhere\n  useEffect(() => {\n    if (!isDragging) return\n    const handleUp = () => finishDrag()\n    window.addEventListener(\"mouseup\", handleUp)\n    return () => window.removeEventListener(\"mouseup\", handleUp)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDragging, dragStart, dragEnd])\n\n  return (\n    <div\n      className=\"rounded-xl border border-border bg-muted/40 p-3 max-h-80 overflow-y-auto transition-all\"\n      onMouseLeave={finishDrag}\n    >\n      <div className=\"grid grid-cols-[60px_1fr] gap-2\">\n        {/* hour labels */}\n        <div className=\"flex flex-col gap-1 text-xs text-muted-foreground\">\n          {HOURS.map((hour) => (\n            <div key={hour} className=\"h-7 flex items-center justify-end pr-1\">\n              {hour.toString().padStart(2, \"0\")}:00\n            </div>\n          ))}\n        </div>\n\n        {/* slots */}\n        <div className=\"flex flex-col gap-1\">\n          {HOURS.map((hour) => {\n            const busy = busyHours.has(hour)\n            const selected = isInSelection(hour)\n\n            let classes =\n              \"h-7 rounded-lg border cursor-pointer transition-all duration-150 select-none\"\n            if (busy) {\n              // busy = reddish\n              classes += \" bg-destructive/20 border-destructive/60\"\n            } else {\n              classes += \" bg-background/80 border-border/60 hover:bg-secondary/20\"\n            }\n            if (selected) {\n              classes += \" bg-secondary/50 border-secondary shadow-inner\"\n            }\n\n            return (\n              <div\n                key={hour}\n                onMouseDown={() => startDrag(hour)}\n                onMouseEnter={() => updateDrag(hour)}\n                className={classes}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n"],"names":[],"mappings":"wDEEA,EAAA,EAAA,CAAA,CAAA,oBCWM,CAAA,ACAA,CAAA,ADAA,CAAA,ACAA,CDAA,ACAA,CDAA,ACAA,CAAA,CAAA,EAAA,EAAA,OAAA,EDA+B,cAAe,CCAE,ADAF,gCACb,UAAU,QCD5B,EAAA,OAAA,EAAiB,YDAc,CAAA,ECAE,CAAA,AACpD,CAAC,CDAA,ACAA,CAAA,ADAA,CAAA,ACAA,CDAA,ACAA,CAAA,ADAA,CAAQ,ACAA,CDAA,ACAA,CAAA,ADAA,sBCA2B,UAAU,GFXhD,IAAA,EAAA,EAAA,CAAA,CAAA,OFce,SAAS,EAAa,CACnC,aAAW,cACX,CAAY,cACZ,CAAY,YACZ,CAAU,CACQ,EAClB,IAAM,EAAO,EAAY,WAAW,GAC9B,EAAQ,EAAY,QAAQ,GAG5B,EADkB,AACH,IADO,KAAK,EAAM,EAAO,GACT,MAAM,GAAG,AACxC,EAAc,IAAI,EAD8B,GACzB,EAAM,EAAQ,EAAG,GAAG,OAAO,GAElD,EAAyB,EAAE,CAGjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAc,IAAK,AACrC,EAAM,IAAI,CAAC,MAIb,IAAK,IAAI,EAAI,EAAG,GAAK,EAAa,IAAK,AACrC,EAAM,IAAI,CAAC,IAAI,KAAK,EAAM,EAAO,IAGnC,IAAM,EAAQ,IAAI,KAElB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2EACZ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAM,CAAC,GAAG,CAAC,AAAC,GACtD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAY,UAAU,4CACpB,GADO,MAMd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAM,GAAG,CAAC,CAAC,EAAK,SAmDL,EAAY,EAAF,IACtB,EAEF,EAHiD,AAK/C,EAvDE,GAAI,CAAC,EACH,GADQ,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAc,UAAU,QAAf,GAGnB,IAAM,IAAa,GAAe,EAAU,EAAK,GAC3C,EAAU,EAAU,EAAK,GACzB,IAF2D,CAEzC,EAAX,EAAgB,IA6CzB,EAAK,WAAW,GAAG,KAAK,CAAC,EAAG,MAErB,IAEI,AAAC,IACtB,GAAI,CAAC,EAAG,OAAO,EACf,GAAM,CAAC,EAAM,EAAK,CAAG,EAAE,KAAK,CAAC,KACvB,EAAI,OAAO,GACX,EAAI,OAAO,UACZ,AAAL,AAAI,OAAQ,QAAQ,CAAC,IAAO,EAAD,KAAQ,QAAQ,CAAC,GACjC,CADqC,EACzC,EAAS,EADuC,CAEzD,EAcA,CAZA,EAAW,OAAO,CAAC,AAAC,IAElB,GADa,AACT,IADa,KAAK,EAAM,IAAI,EAAE,WAAW,GAAG,KAAK,CAAC,EAAG,MAC5C,EAAK,OAElB,IAAI,EAAQ,EAAe,EAAM,SAAS,EACtC,EAAM,EAAe,EAAM,OAAO,EAElC,GAAO,IAAO,EAAM,EAAQ,EAAA,EAEhC,CAFmC,EAEnB,EAAM,CACxB,GAEI,GAAgB,GAL+B,CAK3B,CAAW,GAAP,IAAc,AACtC,EAAe,EAAU,CAAP,MACf,EAFgD,MAjE3C,EAAc,yCAclB,MAba,QAAQ,CAAjB,EACF,EAAc,sEACI,QAAQ,CAAjB,IACT,EAAc,mDAAA,EAGZ,IACF,GAAe,EADJ,sBACI,EAEb,IACF,GAAe,KADD,kDACC,EAIf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAa,GAC5B,UAAW,GAAG,KAAK,CAAC,2FAAE,GAAa,UAElC,EAAI,OAAO,IAJP,EAOX,OAIR,CAIA,SAAS,EAAU,CAAO,CAAE,CAAO,EACjC,OACE,EAAE,WAAW,KAAO,EAAE,WAAW,IACjC,EAAE,QAAQ,KAAO,EAAE,QAAQ,IAC3B,EAAE,OAAO,KAAO,EAAE,OAAO,EAE7B,CCjFe,SAAS,EAAkB,SACxC,CAAO,CACP,OAAK,UACL,CAAQ,cACR,CAAY,YACZ,CAAU,iBACV,CAAe,eACf,CAAa,CACU,EAIvB,IAAM,EAAmB,CADvB,GAAc,MAAQ,GAAc,IAAI,OAAO,WAAW,EAAA,EACpB,KAAK,CAAC,EAAG,IAE3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAc,OAAS,IACpD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACrC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EACxC,GAAc,WAAa,GAAmB,SAE1C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EACpC,GAAc,SAAW,GAAiB,SAEtC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAc,aAAe,IAyBtE,GAAY,CAAQ,EAE1B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,yGACV,QAAS,AAAC,GAAM,EAAE,eAAe,aAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDACX,EAAY,kBAAoB,mBAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,gFAKpD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,mGACX,SAKH,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAjDU,AAAD,CAiDC,GAhDpB,EAAE,cAAc,GAKhB,IAAM,EAAiC,OACrC,EACA,KAJc,CAIR,GAJY,KAAK,EAAY,aAAa,WAAW,aAK3D,UACA,cACA,CACF,EAEI,GAAgB,EAAa,EAAE,EAAI,EACrC,EAAS,EAAa,EAAE,CAAE,CADqB,EAG/C,EAAM,GAGR,GACF,EA4BoC,UAAU,sBAEtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4DAAmD,UAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,YAAY,+BACZ,UAAU,kMACV,QAAQ,CAAA,CAAA,OAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4DAAmD,SAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,UAAU,gKACV,QAAQ,CAAA,CAAA,OAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4DAAmD,eAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAa,EAAE,MAAM,CAAC,KAAK,EAC5C,UAAU,gKACV,QAAQ,CAAA,CAAA,OAGZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4DAAmD,aAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,UAAU,gKACV,QAAQ,CAAA,CAAA,UAMd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4DAAmD,qBAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,KAAM,EACN,YAAY,mDACZ,UAAU,mNAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,EACT,UAAU,mGACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,qKAET,EAAY,eAAiB,wBAO5C,CCtKe,SAAS,IACtB,IA6UM,EACA,EACA,EA/UA,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAAI,MAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MACxD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EACtD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA2B,MAC7D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,MAGhE,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAS,aAAa,OAAO,CAAC,cAChC,GACF,EAAc,GADJ,EACS,KAAK,CAAC,GAE7B,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,aAAa,OAAO,CAAC,aAAc,KAAK,SAAS,CAAC,GACpD,EAAG,CAAC,EAAW,EA2Bf,IAAM,EAAa,GAAgB,IAAI,KAEjC,EAAwB,EAAW,MAAM,CAAC,AAAC,GAC/C,EAAU,IAAI,KAAK,EAAM,IAAI,EAAG,IAG5B,KA2RM,GADF,IAAI,EA1RM,GAAe,AA0RhB,IACL,MAAM,GAAG,EACV,EAAE,MADkB,CACX,GAAK,EACpB,IAAI,KAAK,EAAE,WAAW,GAAI,EAAE,QAAQ,GAAI,IA5RzC,EAAW,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAE,EAAG,CAAC,EAAG,IAAM,KA+RtC,IAAU,SA/RoC,EA+RlC,EA/R+C,EA+RnC,AAChC,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAI,EAAK,OAAO,GAAK,KA9RhE,EAA2C,CAAC,EAClD,EAAW,OAAO,CAAC,AAAC,IAClB,IAAM,EAAM,EAAO,IAAI,KAAK,EAAM,IAAI,EAClC,CAAC,CAAW,CAAC,EAAI,GAAE,CAAW,CAAC,EAAI,CAAG,EAAA,AAAE,EAC5C,CAAW,CAAC,EAAI,CAAC,IAAI,CAAC,EACxB,GAEA,IAAM,EAAgB,EAAW,MAAM,CAAC,AAAC,QACvC,WA0QiB,CAAO,CA1QZ,IAAI,KAAK,EAAM,IAAI,EA0QL,CAAO,CA1QC,EA2Q7B,EAAE,WAAW,KAAO,EAAE,WAAW,IAAM,EAAE,QAAQ,KAAO,EAAE,QAAQ,KA1OzE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,kBAClE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oEAIvC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAzCgB,CAyCP,IAxCf,EAAgB,MAChB,EAAc,MACd,GAAe,EACjB,EAsCQ,UAAU,oMAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,KAAM,uBAKtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4IACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CACX,EAAY,cAAc,CAAC,UAAW,CAAE,MAAO,OAAQ,KAAM,SAAU,KAE1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QArFE,CAqFO,IApF3B,EAAe,IAAI,KAAK,EAAY,WAAW,GAAI,EAAY,QAAQ,GAAK,GAC9E,EAmF4C,UAAU,sDACxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAY,KAAM,OAErB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QApFF,CAoFW,IAnF3B,EAAe,IAAI,KAAK,EAAY,WAAW,GAAI,EAAY,QAAQ,GAAK,GAC9E,EAkFwC,UAAU,sDACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,KAAM,aAK1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,oDAIlD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,YAAa,EACb,aAAc,EACd,aAAc,EACd,WAAY,OAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,yBAClD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,iFAIpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,EAAgB,KACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gBACV,EAAsB,MAAM,CAAG,EAC5B,CAAA,EAAG,EAAsB,MAAM,CAAC,MAAM,EACpC,EAAsB,MAAM,CAAG,EAAI,IAAM,GAC1C,aAAa,CAAC,CACf,qCAMV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,6DAAmD,mBAC7C,EAAgB,MAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UAAW,EACX,cApGoB,CAAC,AAoGN,EApGyB,KACpD,IAAM,EAAM,AAAC,GAAc,EAAE,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAOpD,EAAc,CACZ,KAAM,AAPS,IAAI,KACnB,EAAW,WAAW,GACtB,EAAW,QAAQ,GACnB,EAAW,OAAO,IAIH,WAAW,GAC1B,UAAW,CAAA,EAAG,EAAI,GAAW,GAAG,CAAC,CACjC,QAAS,CAAA,EAAG,EAAI,GAAS,GAAG,CAAC,AAC/B,GACA,EAAgB,MAChB,GAAe,EACjB,OA0FU,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DAAmD,uBAG9B,IAAjC,EAAsB,MAAM,CAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uGAA8F,6EAI7G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACZ,EACE,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,SAAS,CAAC,aAAa,CAAC,EAAE,SAAS,GACpD,GAAG,CAAC,AAAC,GACJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,QAAS,IAAM,CAtGnC,EAsGiD,GArGjD,EAAc,MACd,GAAe,AAFC,IAuGI,UAAU,uJAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAM,KAAK,GACvD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CACV,EAAM,SAAS,CAAC,MAAI,EAAM,OAAO,OAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,QAhLP,EAiLD,EAAE,eAAe,KACC,EAAM,EAAE,CAjLlD,EAAc,AAAC,GAAS,EAAK,MAAM,CAAE,AAAD,GAAW,EAAM,EAAE,GAAK,GAkLtC,EACA,UAAU,gFACX,aAhBI,EAAM,EAAE,QA0BzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DAAmD,0BAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEACZ,EAAS,GAAG,CAAC,AAAC,IACb,IAAM,EAAM,EAAO,GACb,EAAS,CAAW,CAAC,EAAI,EAAI,EAAE,CAC/B,EAAU,EAAU,EAAK,IAAI,MAEnC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAW,CAAC,2FAA2F,EACrG,EAAU,mBAAqB,gBAAA,CAC/B,CACF,QAAS,IAAM,EAAgB,aAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mDACb,EAAI,kBAAkB,MAAC,EAAW,CACjC,QAAS,OACX,KAEF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CACb,EAAI,OAAO,QAGG,IAAlB,EAAO,MAAM,CACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA2C,cAExD,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,wBACX,EACE,IAAI,CAAC,CAAC,EAAG,IAAM,EAAE,SAAS,CAAC,aAAa,CAAC,EAAE,SAAS,GACpD,KAAK,CAAC,EAAG,GACT,GAAG,CAAC,AAAC,GACJ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAkB,UAAU,oDAC1B,EAAM,SAAS,CAAC,MAAI,EAAM,OAAO,CAAC,MAAI,EAAM,KAAK,GAD3C,EAAM,EAAE,GAIpB,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8CAAoC,IAC9C,EAAO,MAAM,CAAG,EAAE,gBA9BvB,EAqCX,QAKJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6GACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,kBACY,IAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCACb,EAAY,cAAc,CAAC,UAAW,CAAE,MAAO,OAAQ,KAAM,SAAU,QAG5E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAc,MAAM,CAAC,SAAgC,IAAzB,EAAc,MAAM,CAAS,GAAK,IAAI,iCAOzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oKACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,uBAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,iDACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,8CACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,sDACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,gDACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,2EAOX,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,QAAS,KACP,GAAe,GACf,EAAgB,MAChB,EAAc,KAChB,EACA,MA9Re,AAAC,CA8RT,GA7Rb,EAAc,AAAC,GAAS,IAAI,EAAM,CAAE,GAAG,CAAK,CAAE,GAAI,KAAK,GAAG,GAAG,QAAQ,EAAG,EAAE,EAC1E,GAAe,GACf,EAAc,KAChB,EA2RQ,SArRkB,CAqRR,AArRS,EAAY,KACrC,EAAc,AAAC,GAAS,EAAK,GAAG,CAAC,AAAC,GAAW,EAAM,EAAE,GAAK,EAAK,CAAE,GAAG,CAAK,CAAE,GAAG,CAAO,IAAE,CAAG,EAAI,IAC9F,GAAe,GACf,EAAgB,MAChB,EAAc,KAChB,EAiRQ,aAAc,QAAgB,EAC9B,WAAY,GAAY,KACxB,gBAAiB,GAAY,UAC7B,cAAe,GAAY,YAKrC,CAIA,SAAS,EAAU,CAAO,CAAE,CAAO,EACjC,OACE,EAAE,WAAW,KAAO,EAAE,WAAW,IACjC,EAAE,QAAQ,KAAO,EAAE,QAAQ,IAC3B,EAAE,OAAO,KAAO,EAAE,OAAO,EAE7B,CAiBA,SAAS,EAAO,CAAU,EACxB,OAAO,EAAK,WAAW,GAAG,KAAK,CAAC,EAAG,GACrC,CAEA,SAAS,EAAgB,CAAU,EACjC,OAAO,EAAK,kBAAkB,MAAC,EAAW,CACxC,QAAS,QACT,IAAK,UACL,MAAO,QACP,KAAM,SACR,EACF,CAaA,SAAS,EAAY,CACnB,WAAS,eACT,CAAa,CAId,EACC,IAAM,EAAQ,MAAM,IAAI,CAAC,CAAE,OAAQ,EAAG,EAAG,CAAC,EAAG,IAAM,GAC7C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MACpD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEhD,EAAY,AAAC,IACjB,GAAI,CAAC,EAAM,OAAO,KAClB,GAAM,CAAC,EAAK,CAAG,EAAK,KAAK,CAAC,KACpB,EAAI,OAAO,SACb,AAAJ,CAAK,OAAO,QAAQ,CAAC,IAAM,EAAI,GAAK,EAAI,GAAW,CAAP,IACrC,CACT,EAGM,EAAY,IAAI,IACtB,EAAU,OAAO,CAAC,AAAC,IACjB,IAAM,EAAS,EAAU,EAAM,SAAS,EAClC,EAAU,EAAU,EAAM,OAAO,EACvC,GAAe,OAAX,EAAiB,OAErB,IAAI,EAAQ,EACR,EAAM,GAAW,EAAQ,EACzB,GAAO,IAAO,EAAM,GAAQ,EAGhC,CAHkC,CAG5B,KAAK,GAAG,CAAC,CADf,EAAQ,KAF4C,AAEvC,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,GAAI,GAAA,EACV,EAAG,KAAK,GAAG,CAAC,GAAI,IAEvC,IAAK,IAAI,EAAI,EAAO,EAAI,EAAK,IAC3B,AADgC,EACtB,GAAG,CAAC,EAElB,GAaA,IAAM,EAAa,KACjB,GAAI,GAA4B,OAAd,GAAkC,OAAZ,EAAkB,CACxD,IAAM,EAAQ,KAAK,GAAG,CAAC,EAAW,GAC5B,EAAM,KAAK,GAAG,CAAC,EAAW,GAAW,EACvC,EAAM,GAAO,EAAc,EAAO,EACxC,CACA,GAAc,GACd,EAAa,MACb,EAAW,KACb,EAkBA,MARA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAY,OACjB,IAAM,EAAW,IAAM,IAEvB,OADA,OAAO,gBAAgB,CAAC,UAAW,GAC5B,IAAM,OAAO,mBAAmB,CAAC,UAAW,EAErD,EAAG,CAAC,EAAY,EAAW,EAAQ,EAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,0FACV,aAAc,WAEd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,mDACvB,EAAK,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAK,QAD1B,MAOd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BACZ,EAAM,GAAG,CAAC,AAAC,IACV,IAAM,EAAO,EAAU,GAAG,CAAC,GACrB,EAAW,CAnCJ,AAAD,IACpB,GAAkB,OAAd,GAAkC,OAAZ,EAAkB,OAAO,EACnD,IAAM,EAAQ,KAAK,GAAG,CAAC,EAAW,GAC5B,EAAM,KAAK,GAAG,CAAC,EAAW,GAChC,OAAO,GAAQ,GAAS,GAAQ,EAClC,EA8ByC,GAE3B,EACF,+EAWF,OAVI,EAEF,GAAW,CAFH,0CAIR,GAAW,2DAET,IACF,GAAW,GADC,6CACD,EAIX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,YAAa,IAAM,CAzE/B,EAAc,IACd,KACA,EAuEyC,IAC7B,EAzEC,GACF,QAwEe,IAAM,CApE3B,GACL,EAmE2C,IAC/B,GArEK,EACN,KAoEY,GAHN,EAMX,SAKV","ignoreList":[3,4]}